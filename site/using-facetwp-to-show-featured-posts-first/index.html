<!-- /layout.antlers.html -->
<!doctype html>
<html lang="en" class="antialiased">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
        <link rel="preload" as="style" href="https://marcelbootsman.nl/build/assets/site-2eed59fe.css" /><link rel="modulepreload" as="script" href="https://marcelbootsman.nl/build/assets/site-ee590dd4.js" /><link rel="stylesheet" href="https://marcelbootsman.nl/build/assets/site-2eed59fe.css" /><script type="module" src="https://marcelbootsman.nl/build/assets/site-ee590dd4.js"></script>
        <!-- statamic-peak-seo::snippets/_seo.antlers.html -->

<title>
    
    
    
        Using FacetWP to show featured posts first - marcelbootsman.nl
    
</title>






   







    
        <link rel="canonical" href="https://marcelbootsman.nl/using-facetwp-to-show-featured-posts-first">
    














<meta property="og:site_name" content="marcelbootsman.nl">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">

    <meta property="og:title" content="Using FacetWP to show featured posts first">



    <meta property="og:image" content="https://marcelbootsman.nl/img/containers/social_images/using-facetwp-to-show-featured-posts-first-og-1756580823.png/123c4ac9f61530c7ec762a055fde9df1/using-facetwp-to-show-featured-posts-first-og-1756580823.png">




    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="">
    
        <meta name="twitter:title" content="Using FacetWP to show featured posts first">
   
   
   
        <meta name="twitter:image" content="">
        
   




    

    

    
    

    

    

    

    

<!-- End: statamic-peak-seo::snippets/_seo.antlers.html -->

        <!-- /snippets/_browser_appearance.antlers.html -->







    
    <link rel="icon" href="/favicons/mb-logo.svg" type="image/svg+xml">
    <link rel="icon" href="/favicons/default/favicon.ico" type="image/x-icon">

    
    
        <link rel="icon" href="/favicons/default/favicon-16x16.png" sizes="16x16">
        <link rel="icon" href="/favicons/default/favicon-32x32.png" sizes="32x32">
    



<link rel="manifest" href="https://marcelbootsman.nl/site.webmanifest">



<!-- End: /snippets/_browser_appearance.antlers.html -->

        

        
        <link rel="alternate" type="application/atom+xml" title="marcelbootsman.nl" href="https://marcelbootsman.nl/feed/atom" />
<link rel="alternate" type="application/rss+xml" title="marcelbootsman.nl" href="https://marcelbootsman.nl/feed" />
        
        
<script>
    /* Generate a share link for the user's Mastodon domain */
    function MastodonShare(e) {
        // Get the source text
        src = e.getAttribute("data-src");

        // Get the Mastodon domain
        domain = prompt("Enter your Mastodon domain", "toot.re");

        if (domain == "" || domain == null) {
            return;
        }

        // Build the URL
        url = "https://" + domain + "/share?text=" + src;

        // Open a window on the share page
        window.open(url, '_blank');
    }

    function doSomethingWhenDocumentReady(functionToExecute) {
        /* $(document).ready() without javascript
        */
        if (document.readyState === "complete" ||
            (document.readyState !== "loading" && !document.documentElement.doScroll)
        ) {
            functionToExecute();
        } else {
            document.addEventListener("DOMContentLoaded", functionToExecute);
        }
    }

    /* Call this on document.ready() */
    function unhideMastodonShare() {
        var button = document.getElementById('mastodonshare');
        button.classList.remove('hidden');
        button.classList.add('inline-flex');
    }
    doSomethingWhenDocumentReady(unhideMastodonShare);

</script>

        
        
        <!-- Matomo -->
        <script>
            var _paq = window._paq = window._paq || [];
            /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
            _paq.push(['trackPageView']);
            _paq.push(['enableLinkTracking']);
            (function () {
                var u = "//stats.marcelbootsman.nl/";
                _paq.push(['setTrackerUrl', u + 'matomo.php']);
                _paq.push(['setSiteId', '1']);
                var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
                g.async = true; g.src = u + 'matomo.js'; s.parentNode.insertBefore(g, s);
            })();
        </script>
        <noscript>
            <p><img src="//stats.marcelbootsman.nl/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p>
        </noscript>
        <!-- End Matomo Code -->

        
    </head>
 
    <body class="flex flex-col min-h-screen bg-stone-100 selection:bg-primary selection:text-white">
        <script>
            if (localStorage.getItem("pref-theme") === "dark") {
                document.body.classList.add('dark');
            } else if (localStorage.getItem("pref-theme") === "light") {
                document.body.classList.remove('dark')
            } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark');
            }
        </script>
        <!-- statamic-peak-tools::snippets/_noscript.antlers.html -->

    <noscript>
        <p class="relative z-50 py-3 px-4 bg-gray-100 border-b border-gray-200 text-center font-bold text-xs text-gray-600">This website requires Javascript for some parts to function properly. Your experience may vary.</p>
    </noscript>

    

<!-- End: statamic-peak-tools::snippets/_noscript.antlers.html -->

        <!-- statamic-peak-tools::navigation/_skip_links.antlers.html -->
<div class="z-50 text-sm font-bold text-white [&_a]:fixed [&_a]:px-4 [&_a]:py-2 [&_a]:-translate-y-24 [&_a]:opacity-0 [&_a]:top-4 [&_a]:left-8 [&_a]:bg-primary [&_a:focus]:translate-y-0 [&_a:focus]:opacity-100 [&_a]:outline-primary motion-safe:[&_a]:transition-transform ">
    
        <a href="#content">Skip to content</a>
    
    
</div>
<!-- End: statamic-peak-tools::navigation/_skip_links.antlers.html -->

        <!-- statamic-peak-tools::components/_toolbar.antlers.html -->

<!-- End: statamic-peak-tools::components/_toolbar.antlers.html -->

        

        <!-- /layout/_header.antlers.html -->
<header class="w-full py-4">
    <div class="fluid-container flex justify-between items-center">
        
        <!-- /components/_logo.antlers.html -->
<div class="basis-54 sm:basis-96">
    <a class="p-2 -m-2 focus:outline-none focus-visible:ring-2 ring-primary"
        aria-label="Logo marcelbootsman" href="/">
        <img src="/images/marcelbootsman-logo.png" class="logo inline select-none  w-10 sm:w-20" alt="marcelbootsman" />
        <span class="border-b-4 border-brightgreen text-l sm:text-2xl font-bold">Marcel Bootsman</span>
    </a>
    <div class="inline-block relative top-2">
        <button id="theme-toggle" title="Toggle dark/light theme">
            <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="48" height="28" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
            </svg>
            <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="48" height="28" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
        </button>
    </div>
</div>
<!-- End: /components/_logo.antlers.html -->
        
<!-- /navigation/_main_desktop.antlers.html -->
<nav class="hidden md:block" aria-label="Main navigation">
    <ul class="flex items-center space-x-8">
        
        <li
            
            x-data="{ subnavOpen: false }"
            @keyup.escape.stop.prevent="subnavOpen = false"
            @focusin.window="!$refs.subnav.contains($event.target) && (subnavOpen = false)"
            
            class="relative leading-none">
            <a class="
                        p-1 -m-1 flex items-center font-bold text-sm hover:text-primary underline focus:outline-none focus-visible:ring-2 ring-primary
                        text-neutral
                    "
                
                href="#"
                @click.prevent="subnavOpen = !subnavOpen"
                :aria-label="subnavOpen
                            ? 'Close sub navigation'
                            : 'Open sub navigation'"
                :aria-expanded="subnavOpen"
                >
                Home
                
                <div :class="{ 'scale-y-[-1]': subnavOpen }" class="motion-safe:transition-transform">
                    <svg class="w-2 ml-1 overflow-visible stroke-current text-neutral" aria-hidden="true" stroke-width="24" viewBox="0 0 140 140"><path d="M135.625 42.648l-62.533 62.527a4.37 4.37 0 01-6.184 0L4.375 42.648" fill="none"/></svg>
                </div>
                
            </a>
            
            <ul
                x-show="subnavOpen"
                x-ref="subnav"
                class="absolute right-0 mt-2 -ml-3 py-2 px-3 bg-white border border-neutral/10 rounded shadow"
                @click.outside="subnavOpen = false"
                x-transition
                x-cloak>
                
                <li class="">
                    <a
                        class="whitespace-nowrap py-2 px-1 -mx-1 block text-xs font-bold hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary
                                        text-neutral
                                    "
                        href="/readme">
                        ReadMe
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li
            
            x-data="{ subnavOpen: false }"
            @keyup.escape.stop.prevent="subnavOpen = false"
            @focusin.window="!$refs.subnav.contains($event.target) && (subnavOpen = false)"
            
            class="relative leading-none">
            <a class="
                        p-1 -m-1 flex items-center font-bold text-sm hover:text-primary underline focus:outline-none focus-visible:ring-2 ring-primary
                        text-neutral
                    "
                
                href="#"
                @click.prevent="subnavOpen = !subnavOpen"
                :aria-label="subnavOpen
                            ? 'Close sub navigation'
                            : 'Open sub navigation'"
                :aria-expanded="subnavOpen"
                >
                Archives
                
                <div :class="{ 'scale-y-[-1]': subnavOpen }" class="motion-safe:transition-transform">
                    <svg class="w-2 ml-1 overflow-visible stroke-current text-neutral" aria-hidden="true" stroke-width="24" viewBox="0 0 140 140"><path d="M135.625 42.648l-62.533 62.527a4.37 4.37 0 01-6.184 0L4.375 42.648" fill="none"/></svg>
                </div>
                
            </a>
            
            <ul
                x-show="subnavOpen"
                x-ref="subnav"
                class="absolute right-0 mt-2 -ml-3 py-2 px-3 bg-white border border-neutral/10 rounded shadow"
                @click.outside="subnavOpen = false"
                x-transition
                x-cloak>
                
                <li class="">
                    <a
                        class="whitespace-nowrap py-2 px-1 -mx-1 block text-xs font-bold hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary
                                        text-neutral
                                    "
                        href="/archive">
                        Blog
                    </a>
                </li>
                
                <li class="">
                    <a
                        class="whitespace-nowrap py-2 px-1 -mx-1 block text-xs font-bold hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary
                                        text-neutral
                                    "
                        href="/notes">
                        Notes
                    </a>
                </li>
                
                <li class="">
                    <a
                        class="whitespace-nowrap py-2 px-1 -mx-1 block text-xs font-bold hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary
                                        text-neutral
                                    "
                        href="/categories">
                        Categories
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li
            
            x-data="{ subnavOpen: false }"
            @keyup.escape.stop.prevent="subnavOpen = false"
            @focusin.window="!$refs.subnav.contains($event.target) && (subnavOpen = false)"
            
            class="relative leading-none">
            <a class="
                        p-1 -m-1 flex items-center font-bold text-sm hover:text-primary underline focus:outline-none focus-visible:ring-2 ring-primary
                        text-neutral
                    "
                
                href="#"
                @click.prevent="subnavOpen = !subnavOpen"
                :aria-label="subnavOpen
                            ? 'Close sub navigation'
                            : 'Open sub navigation'"
                :aria-expanded="subnavOpen"
                >
                WordPress plugins
                
                <div :class="{ 'scale-y-[-1]': subnavOpen }" class="motion-safe:transition-transform">
                    <svg class="w-2 ml-1 overflow-visible stroke-current text-neutral" aria-hidden="true" stroke-width="24" viewBox="0 0 140 140"><path d="M135.625 42.648l-62.533 62.527a4.37 4.37 0 01-6.184 0L4.375 42.648" fill="none"/></svg>
                </div>
                
            </a>
            
            <ul
                x-show="subnavOpen"
                x-ref="subnav"
                class="absolute right-0 mt-2 -ml-3 py-2 px-3 bg-white border border-neutral/10 rounded shadow"
                @click.outside="subnavOpen = false"
                x-transition
                x-cloak>
                
                <li class="">
                    <a
                        class="whitespace-nowrap py-2 px-1 -mx-1 block text-xs font-bold hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary
                                        text-neutral
                                    "
                        href="/wordpress-plugins/auto-hide-admin-bar">
                        Auto Hide Admin Bar
                    </a>
                </li>
                
            </ul>
            
        </li>
        
    </ul>
</nav>
<!-- End: /navigation/_main_desktop.antlers.html -->


<!-- /navigation/_main_mobile.antlers.html -->
<nav
    x-data="{ mobileNavOpen: false }"
    class="md:hidden"
    aria-label="Main navigation"
    x-trap.inert.noscroll="mobileNavOpen"
    @keyup.escape.stop.prevent="mobileNavOpen = false"
    x-cloak
>
    <button
        @click.prevent.stop="mobileNavOpen = !mobileNavOpen"
        class="fixed top-4 right-0 z-20 flex items-center justify-center w-16 h-16 mr-4 text-xs font-bold text-white mb-safe rounded bg-primary focus:outline-none focus-visible:ring-2 ring-primary ring-offset-2"
        :aria-label="
        mobileNavOpen
            ? 'Close navigation'
            : 'Open navigation'
        "
        :aria-expanded="mobileNavOpen"
        x-text="mobileNavOpen ? 'Close' : 'Menu'"
    ></button>

    <div
        class="fixed inset-0 z-10 pt-8 px-8 pb-12 flex flex-col justify-start bg-white"
        x-show="mobileNavOpen"
    >
        <ul class="flex flex-col py-2 space-y-4 overflow-auto">
            
                <li
                    
                        x-data="{ subnavOpen: false }"
                        @focusin.window="!$refs.subnav.contains($event.target) && (subnavOpen = false)"
                    
                    class="leading-none"
                >
                    <a
                        class="w-full py-2 flex items-center space-x-1 text-lg font-bold hover:text-primary text-neutral focus:outline-none focus-visible:ring-2 ring-primary"
                        
                            href="#"
                            @click.prevent="subnavOpen = !subnavOpen"
                            @click.outside="subnavOpen = false"
                            :aria-label="subnavOpen
                                ? 'Close sub navigation'
                                : 'Open sub navigation'"
                            :aria-expanded="subnavOpen"
                        
                    >
                        <span>Home</span>
                        
                            <div :class="{ 'scale-y-[-1]': subnavOpen }" class="motion-safe:transition-transform">
                                <svg class="w-2 ml-1 overflow-visible stroke-current text-neutral" aria-hidden="true" stroke-width="24" viewBox="0 0 140 140"><path d="M135.625 42.648l-62.533 62.527a4.37 4.37 0 01-6.184 0L4.375 42.648" fill="none"/></svg>
                            </div>
                        
                    </a>
                    
                        <ul
                            x-show="subnavOpen"
                            x-ref="subnav"
                            class="flex flex-col items-stretch space-y-2"
                            x-collapse
                        >
                            
                                <li class="mt-2">
                                    <a
                                        class="block py-2 whitespace-nowrap font-bold hover:text-primary text-neutral focus:outline-none focus-visible:ring-2 ring-primary"
                                        href="/readme">
                                        ReadMe
                                    </a>
                                </li>
                            
                        </ul>
                    
                </li>
            
                <li
                    
                        x-data="{ subnavOpen: false }"
                        @focusin.window="!$refs.subnav.contains($event.target) && (subnavOpen = false)"
                    
                    class="leading-none"
                >
                    <a
                        class="w-full py-2 flex items-center space-x-1 text-lg font-bold hover:text-primary text-neutral focus:outline-none focus-visible:ring-2 ring-primary"
                        
                            href="#"
                            @click.prevent="subnavOpen = !subnavOpen"
                            @click.outside="subnavOpen = false"
                            :aria-label="subnavOpen
                                ? 'Close sub navigation'
                                : 'Open sub navigation'"
                            :aria-expanded="subnavOpen"
                        
                    >
                        <span>Archives</span>
                        
                            <div :class="{ 'scale-y-[-1]': subnavOpen }" class="motion-safe:transition-transform">
                                <svg class="w-2 ml-1 overflow-visible stroke-current text-neutral" aria-hidden="true" stroke-width="24" viewBox="0 0 140 140"><path d="M135.625 42.648l-62.533 62.527a4.37 4.37 0 01-6.184 0L4.375 42.648" fill="none"/></svg>
                            </div>
                        
                    </a>
                    
                        <ul
                            x-show="subnavOpen"
                            x-ref="subnav"
                            class="flex flex-col items-stretch space-y-2"
                            x-collapse
                        >
                            
                                <li class="mt-2">
                                    <a
                                        class="block py-2 whitespace-nowrap font-bold hover:text-primary text-neutral focus:outline-none focus-visible:ring-2 ring-primary"
                                        href="/archive">
                                        Blog
                                    </a>
                                </li>
                            
                                <li class="">
                                    <a
                                        class="block py-2 whitespace-nowrap font-bold hover:text-primary text-neutral focus:outline-none focus-visible:ring-2 ring-primary"
                                        href="/notes">
                                        Notes
                                    </a>
                                </li>
                            
                                <li class="">
                                    <a
                                        class="block py-2 whitespace-nowrap font-bold hover:text-primary text-neutral focus:outline-none focus-visible:ring-2 ring-primary"
                                        href="/categories">
                                        Categories
                                    </a>
                                </li>
                            
                        </ul>
                    
                </li>
            
                <li
                    
                        x-data="{ subnavOpen: false }"
                        @focusin.window="!$refs.subnav.contains($event.target) && (subnavOpen = false)"
                    
                    class="leading-none"
                >
                    <a
                        class="w-full py-2 flex items-center space-x-1 text-lg font-bold hover:text-primary text-neutral focus:outline-none focus-visible:ring-2 ring-primary"
                        
                            href="#"
                            @click.prevent="subnavOpen = !subnavOpen"
                            @click.outside="subnavOpen = false"
                            :aria-label="subnavOpen
                                ? 'Close sub navigation'
                                : 'Open sub navigation'"
                            :aria-expanded="subnavOpen"
                        
                    >
                        <span>WordPress plugins</span>
                        
                            <div :class="{ 'scale-y-[-1]': subnavOpen }" class="motion-safe:transition-transform">
                                <svg class="w-2 ml-1 overflow-visible stroke-current text-neutral" aria-hidden="true" stroke-width="24" viewBox="0 0 140 140"><path d="M135.625 42.648l-62.533 62.527a4.37 4.37 0 01-6.184 0L4.375 42.648" fill="none"/></svg>
                            </div>
                        
                    </a>
                    
                        <ul
                            x-show="subnavOpen"
                            x-ref="subnav"
                            class="flex flex-col items-stretch space-y-2"
                            x-collapse
                        >
                            
                                <li class="mt-2">
                                    <a
                                        class="block py-2 whitespace-nowrap font-bold hover:text-primary text-neutral focus:outline-none focus-visible:ring-2 ring-primary"
                                        href="/wordpress-plugins/auto-hide-admin-bar">
                                        Auto Hide Admin Bar
                                    </a>
                                </li>
                            
                        </ul>
                    
                </li>
            
        </ul>
    </div>
</nav>
<!-- End: /navigation/_main_mobile.antlers.html -->


    </div>
</header>
<!-- End: /layout/_header.antlers.html -->

        
<main class="prose fluid-container" id="content">
    <h1 class="block">Using FacetWP to show featured posts first</h1>
    <span class="block text-sm text-stone-400 my-4">
    
        Published: November 3rd, 2019
        
            | Updated: July 21st, 2023
        
    
</span>
    
        <a href="/categories/wordpress-tips"
            class="category text-xs p-2 my-4 mr-2 rounded-md bg-stone-200 hover:bg-brightgreen">WordPress Tips</a>
    

    <span id="mastodonshare" class="hidden category items-baseline float-right rounded-md bg-stone-200 hover:bg-brightgreen px-1">
    <a class="underline" title="Share 'Using FacetWP to show featured posts first' on Mastodon" href="#" onclick="MastodonShare(this);" data-src="I found this blog and decided to share it with you.%0D%0A%0D%0AUsing FacetWP to show featured posts first&amp;url=https://marcelbootsman.nl/using-facetwp-to-show-featured-posts-first">
        <img class="inline align-middle h-4 m-0 mr-1" alt="Mastodon logo" title="Share on Mastodon" src="/images/mastodon-logo.svg" /><span class="text-xs">Share on Mastodon</span>
    </a>
</span>
    
        
            <img class="mt-2 mb-2 rounded-md" src="/img/containers/images/books-in-library.jpg/552482b4c5ae138693a4d22bc42b2e26/books-in-library.webp" width="860" height="450"
                alt="Lots of books in a library">
        
    
    
        <!-- /page_builder/_article.antlers.html -->
<section class="col-span-4 md:col-span-3">
    <!-- /typography/_prose.antlers.html -->
<article
    class="
        prose
        prose-a:underline
        prose-a:decoration-primary
        prose-a:decoration-2
        hover:prose-a:text-primary
        focus:prose-a:outline-none
        focus-visible:prose-a:ring
        focus-visible:prose-a:ring-primary
        focus-visible:prose-a:rounded-sm
        prose-figure:my-0
        prose-pre:whitespace-pre-wrap
        max-w-none
        contents
    "
>
    <!-- /components/_text.antlers.html -->
<div class="size-lg">
    <p>Want to show featured posts first in FacetWP results? Hereâ€™s how to do it.</p><h2>The requirement</h2><p>A client, using FacetWP to show posts filtered by a few Advanced Custom Fields, wanted to introduce featured posts. These posts need to be show first, and the rest of the results should be shown random.</p><p>Since FacetWP does an AJAX request every time a page is requested, or a facet is changed, we need to do something to prevent every request to show random posts, since that could show posts on multiple result pages.</p><h2>Thinking about a solution</h2><p>When a client drops an idea, actually any idea, my brain starts to think on how to implement this. With my experience I know some filters of my favorite plugins, but not all. So I draft a solution first.</p><p>Posts need to have an extra field, where the client can indicate a post is featured. Since the posts already have some ACF fields, I will add the featured field to it.</p><p>Next up is filtering the query to feed FacetWP the <code>$post_ids</code> in the right order, with featured posts first, followed by the other posts in a random order. I found out the <code>facetwp_filtered_post_ids</code> filter can be used for that.</p><h2>Coding the solution</h2><p>Hereâ€™s my favorite part of implementing a clients request. The actual coding. I start with writing the <code>facetwp_filtered_post_ids</code> filter function. This function has to return all post ids, in the right order, with the featured post on the front of the array.</p><p>The query arguments are self explanatory, except maybe for the <code>meta_compare</code> argument. <code>LIKE</code> is used here, because ACF stores the value of the <code>uitgelicht</code> (Featured in Dutch) field in a serialized way. Be careful when using this, since this might give you unexpected results. In this case, the <code>uitgelicht</code> field can only have a value of <code>&#039;ja&#039;</code> (yes), or <code>&#039;&#039;</code> (empty), so we can safely use this.</p><p>The we launch the query and get the results on line 16. NOw we need to remove the featured posts from the <code>$posts_ids</code> variable that is passed to this function through the filter. So we walk through the <code>$post_ids</code> and put the featured post id in the <code>$matches</code> array, and remove the post id from the <code>$post_ids</code> array. This gives us two arrays, <code>$matches</code> which holds the featured posts, and <code>$post_ids</code> which holds all other posts, without the featured posts.</p><p>Now we need to randomize the posts in <code>$post_ids</code>. As stated before, we donâ€™t want to randomize on every request. With the client I discussed this, and came to a solution where results would be randomized every hour.</p><p>First I used the <code>shuffle()</code> function to randomize the <code>$post_ids</code> array. Sadly, this did not give me an option to keep the random order for a certain amount of time. So, here comes <code>array_multisort()</code>.</p><p>We first set a duration in minutes, get the current time in minutes and subtract the duration from this time, to set the seed. Then we use the <code>mt_srand()</code> function to create seed. Next is setting the order and use that to re-order the <code>$post_ids</code> array with <code>array_multisort()</code>.</p><p>The final thing we need to do in this filter function is merge the randomized post ids, together with the featured posts and return the array.</p>
</div>
<!-- End: /components/_text.antlers.html -->

    
    <!-- /components/_notice_block.antlers.html -->
<div class="notice rounded-md p-4 my-4 w-full bg-brightgreen">
    <p>ðŸš€ <strong>Performance tip</strong></p><p>If you only need post ids, add &#039;fields&#039; =&gt; &#039;ids&#039; to the query $args array. This results in a query that only asks for ids, and not all other fields available in the posts table.</p>
    
</div>
<!-- End: /components/_notice_block.antlers.html -->
    
    <!-- /components/_text.antlers.html -->
<div class="size-lg">
    <h2>Apply the sorting to the FacetWP template</h2><p>One final step is needed to get the results right. We need to set the order and orderby parameters on the FacetWP query for the template we want this to be used for. Hereâ€™s the <code>facetwp_query_args</code> filter. We add the query parameters to the original query parameters, and return the <code>$query_args</code> variable.</p>
</div>
<!-- End: /components/_text.antlers.html -->

    
    <!-- /components/_code_block.antlers.html -->
<div class="p2 my-4 size-lg">
    <pre class='relative'><code class='torchlight' 
                style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">&lt;?</span></div><div class='line'><span style="color: #676E95;">// put featured posts first in FacetWP results</span></div><div class='line'><span style="color: #82AAFF;">add_filter</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">facetwp_filtered_post_ids</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">function</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">class </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// Lookup projects with featured meta key set to ja</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">args </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">array</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">post_type</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">post</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">post_status</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">publish</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">meta_key</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">     </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">uitgelicht</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">meta_value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">ja</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">meta_compare</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">LIKE</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">fields</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">       </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">ids</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">featured_posts_query </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">WP_Query</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">args </span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">featured_posts_array </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">featured_posts_query</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #A6ACCD;">posts</span><span style="color: #89DDFF;">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// If a featured post, remove it from $post_ids and add it to $matches</span></div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// We loop through $post_ids to preserve featured order</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">matches </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">array</span><span style="color: #89DDFF;">();</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">foreach</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids </span><span style="color: #89DDFF;">as</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">key </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_id </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">if</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">in_array</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_id</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">featured_posts_array </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">matches</span><span style="color: #89DDFF;">[]</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_id</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #A6ACCD;">            </span><span style="color: #82AAFF;">unset</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">[</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">key </span><span style="color: #89DDFF;">]</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// randomize post_ids</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">duration </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">60</span><span style="color: #89DDFF;">;</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// in minutes, so 60 is one hour.</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">mins </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">date</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">i</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">strtotime</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">now</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">));</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">seed </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">mins </span><span style="color: #89DDFF;">-</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">mins </span><span style="color: #89DDFF;">%</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">duration</span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #82AAFF;">mt_srand</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">seed</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">order </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">array_map</span><span style="color: #89DDFF;">(</span><span style="color: #C792EA;">function</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">mt_rand</span><span style="color: #89DDFF;">();},</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">range</span><span style="color: #89DDFF;">(</span><span style="color: #F78C6C;">1</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">count</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">)));</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #82AAFF;">array_multisort</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">order</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// Featured first, then default sort</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">array_merge</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">matches</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids </span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #89DDFF;">},</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">15</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #82AAFF;">add_filter</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">facetwp_query_args</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">nostromo_filter_posts</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">10</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #C792EA;">function</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">nostromo_filter_posts</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query_args</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">class </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #89DDFF;">  </span><span style="color: #676E95;">// only use these extra query args if we are using this FacetWP template</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">if</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">posts_overview</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">==</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">class</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #A6ACCD;">template</span><span style="color: #89DDFF;">[</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">name</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">]</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">        </span><span style="color: #676E95;">// add the sorting</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query_args</span><span style="color: #89DDFF;">[</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">order</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">]</span><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">ASC</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query_args</span><span style="color: #89DDFF;">[</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">orderby</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">]</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">post__in meta_value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query_args</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color: #89DDFF;">?&gt;</span></div></code>
                <div class='text-xs select-none opacity-50 top-0 right-0 p-2 absolute uppercase'>php</div></pre>
</div>
<!-- End: /components/_code_block.antlers.html -->
    
    <!-- /components/_text.antlers.html -->
<div class="size-lg">
    <p>Featured image by <a href="https://unsplash.com/@syinq?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Susan Yin</a> on <a href="https://unsplash.com/s/photos/library?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p>
</div>
<!-- End: /components/_text.antlers.html -->
</article>
<!-- End: /typography/_prose.antlers.html -->

</section>
<!-- End: /page_builder/_article.antlers.html -->
    

    
    <div class="border-2 border-black bg-white rounded-md p-4 my-8 w-full giscus"></div>

    
    
        <div class="authorbox border-2 rounded-md bg-stone-200 p-4 my-8  w-full">
            <div class="grid grid-cols-4">
                
                    
                

                
                    
                        <!-- /page_builder/_article.antlers.html -->
<section class="col-span-4 md:col-span-3">
    <!-- /typography/_prose.antlers.html -->
<article
    class="
        prose
        prose-a:underline
        prose-a:decoration-primary
        prose-a:decoration-2
        hover:prose-a:text-primary
        focus:prose-a:outline-none
        focus-visible:prose-a:ring
        focus-visible:prose-a:ring-primary
        focus-visible:prose-a:rounded-sm
        prose-figure:my-0
        prose-pre:whitespace-pre-wrap
        max-w-none
        contents
    "
>
    <!-- /components/_text.antlers.html -->
<div class="size-lg">
    <p>Want to show featured posts first in FacetWP results? Hereâ€™s how to do it.</p><h2>The requirement</h2><p>A client, using FacetWP to show posts filtered by a few Advanced Custom Fields, wanted to introduce featured posts. These posts need to be show first, and the rest of the results should be shown random.</p><p>Since FacetWP does an AJAX request every time a page is requested, or a facet is changed, we need to do something to prevent every request to show random posts, since that could show posts on multiple result pages.</p><h2>Thinking about a solution</h2><p>When a client drops an idea, actually any idea, my brain starts to think on how to implement this. With my experience I know some filters of my favorite plugins, but not all. So I draft a solution first.</p><p>Posts need to have an extra field, where the client can indicate a post is featured. Since the posts already have some ACF fields, I will add the featured field to it.</p><p>Next up is filtering the query to feed FacetWP the <code>$post_ids</code> in the right order, with featured posts first, followed by the other posts in a random order. I found out the <code>facetwp_filtered_post_ids</code> filter can be used for that.</p><h2>Coding the solution</h2><p>Hereâ€™s my favorite part of implementing a clients request. The actual coding. I start with writing the <code>facetwp_filtered_post_ids</code> filter function. This function has to return all post ids, in the right order, with the featured post on the front of the array.</p><p>The query arguments are self explanatory, except maybe for the <code>meta_compare</code> argument. <code>LIKE</code> is used here, because ACF stores the value of the <code>uitgelicht</code> (Featured in Dutch) field in a serialized way. Be careful when using this, since this might give you unexpected results. In this case, the <code>uitgelicht</code> field can only have a value of <code>&#039;ja&#039;</code> (yes), or <code>&#039;&#039;</code> (empty), so we can safely use this.</p><p>The we launch the query and get the results on line 16. NOw we need to remove the featured posts from the <code>$posts_ids</code> variable that is passed to this function through the filter. So we walk through the <code>$post_ids</code> and put the featured post id in the <code>$matches</code> array, and remove the post id from the <code>$post_ids</code> array. This gives us two arrays, <code>$matches</code> which holds the featured posts, and <code>$post_ids</code> which holds all other posts, without the featured posts.</p><p>Now we need to randomize the posts in <code>$post_ids</code>. As stated before, we donâ€™t want to randomize on every request. With the client I discussed this, and came to a solution where results would be randomized every hour.</p><p>First I used the <code>shuffle()</code> function to randomize the <code>$post_ids</code> array. Sadly, this did not give me an option to keep the random order for a certain amount of time. So, here comes <code>array_multisort()</code>.</p><p>We first set a duration in minutes, get the current time in minutes and subtract the duration from this time, to set the seed. Then we use the <code>mt_srand()</code> function to create seed. Next is setting the order and use that to re-order the <code>$post_ids</code> array with <code>array_multisort()</code>.</p><p>The final thing we need to do in this filter function is merge the randomized post ids, together with the featured posts and return the array.</p>
</div>
<!-- End: /components/_text.antlers.html -->

    
    <!-- /components/_notice_block.antlers.html -->
<div class="notice rounded-md p-4 my-4 w-full bg-brightgreen">
    <p>ðŸš€ <strong>Performance tip</strong></p><p>If you only need post ids, add &#039;fields&#039; =&gt; &#039;ids&#039; to the query $args array. This results in a query that only asks for ids, and not all other fields available in the posts table.</p>
    
</div>
<!-- End: /components/_notice_block.antlers.html -->
    
    <!-- /components/_text.antlers.html -->
<div class="size-lg">
    <h2>Apply the sorting to the FacetWP template</h2><p>One final step is needed to get the results right. We need to set the order and orderby parameters on the FacetWP query for the template we want this to be used for. Hereâ€™s the <code>facetwp_query_args</code> filter. We add the query parameters to the original query parameters, and return the <code>$query_args</code> variable.</p>
</div>
<!-- End: /components/_text.antlers.html -->

    
    <!-- /components/_code_block.antlers.html -->
<div class="p2 my-4 size-lg">
    <pre class='relative'><code class='torchlight' 
                style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color: #89DDFF;">&lt;?</span></div><div class='line'><span style="color: #676E95;">// put featured posts first in FacetWP results</span></div><div class='line'><span style="color: #82AAFF;">add_filter</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">facetwp_filtered_post_ids</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">function</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">class </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// Lookup projects with featured meta key set to ja</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">args </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">array</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">post_type</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">post</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">post_status</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">  </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">publish</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">meta_key</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">     </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">uitgelicht</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">meta_value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">ja</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">meta_compare</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">LIKE</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">fields</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;">       </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">ids</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">featured_posts_query </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">WP_Query</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">args </span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">featured_posts_array </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">featured_posts_query</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #A6ACCD;">posts</span><span style="color: #89DDFF;">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// If a featured post, remove it from $post_ids and add it to $matches</span></div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// We loop through $post_ids to preserve featured order</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">matches </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">array</span><span style="color: #89DDFF;">();</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">foreach</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids </span><span style="color: #89DDFF;">as</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">key </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_id </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">if</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">in_array</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_id</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">featured_posts_array </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">matches</span><span style="color: #89DDFF;">[]</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_id</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #A6ACCD;">            </span><span style="color: #82AAFF;">unset</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">[</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">key </span><span style="color: #89DDFF;">]</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// randomize post_ids</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">duration </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">60</span><span style="color: #89DDFF;">;</span><span style="color: #A6ACCD;"> </span><span style="color: #676E95;">// in minutes, so 60 is one hour.</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">mins </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">date</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">i</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">strtotime</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">now</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">));</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">seed </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">mins </span><span style="color: #89DDFF;">-</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">mins </span><span style="color: #89DDFF;">%</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">duration</span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #82AAFF;">mt_srand</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">seed</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">order </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">array_map</span><span style="color: #89DDFF;">(</span><span style="color: #C792EA;">function</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">mt_rand</span><span style="color: #89DDFF;">();},</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">range</span><span style="color: #89DDFF;">(</span><span style="color: #F78C6C;">1</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">count</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">)));</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #82AAFF;">array_multisort</span><span style="color: #89DDFF;">($</span><span style="color: #A6ACCD;">order</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">    </span><span style="color: #676E95;">// Featured first, then default sort</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">array_merge</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">matches</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids </span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">post_ids</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #89DDFF;">},</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">15</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #82AAFF;">add_filter</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">facetwp_query_args</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">nostromo_filter_posts</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">10</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">2</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color: #C792EA;">function</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">nostromo_filter_posts</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query_args</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">class </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color: #89DDFF;">  </span><span style="color: #676E95;">// only use these extra query args if we are using this FacetWP template</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">if</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">posts_overview</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">==</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">class</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #A6ACCD;">template</span><span style="color: #89DDFF;">[</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">name</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">]</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #89DDFF;">        </span><span style="color: #676E95;">// add the sorting</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query_args</span><span style="color: #89DDFF;">[</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">order</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">]</span><span style="color: #A6ACCD;">   </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">ASC</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query_args</span><span style="color: #89DDFF;">[</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">orderby</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">]</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">post__in meta_value</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">query_args</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color: #89DDFF;">?&gt;</span></div></code>
                <div class='text-xs select-none opacity-50 top-0 right-0 p-2 absolute uppercase'>php</div></pre>
</div>
<!-- End: /components/_code_block.antlers.html -->
    
    <!-- /components/_text.antlers.html -->
<div class="size-lg">
    <p>Featured image by <a href="https://unsplash.com/@syinq?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Susan Yin</a> on <a href="https://unsplash.com/s/photos/library?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p>
</div>
<!-- End: /components/_text.antlers.html -->
</article>
<!-- End: /typography/_prose.antlers.html -->

</section>
<!-- End: /page_builder/_article.antlers.html -->
                    
                
            </div>
        </div>
    
</main>
        <!-- /layout/_footer.antlers.html -->
<footer class="w-full py-4 mt-auto">
    <div class="fluid-container flex flex-col space-y-4 md:space-y-0 md:flex-row md:justify-between md:space-x-4 md:items-center ">
        <div class="flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4 text-xs font-bold">
            <span>
                &copy; 2013
                
                    - 2025
                    
                Marcel Bootsman - Powered by <a class="underline" href="https://statamic.com/">Statamic</a>
                - Hosted on <a class="underline" href="/kinsta-static-site-hosting">Kinsta Static Site Hosting</a>
            </span>

            
            
        </div>
        
            <div class="flex space-x-2">
                
                <a class="p-1 -m-1 text-neutral hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary" href="https://toot.re/@mbootsman" rel="noopener me" aria-label="marcelbootsman on Mastodon" target="_blank"><svg class="w-3 h-3 overflow-visible fill-current" alt="" aria-hidden="true" viewBox="0 0 448 512"><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 01-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg></a>
                
                <a class="p-1 -m-1 text-neutral hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary" href="https://www.github.com/mbootsman" rel="noopener" aria-label="marcelbootsman on Github" target="_blank"><svg class="w-3 h-3 overflow-visible fill-current" alt="" aria-hidden="true" viewBox="0 0 140 140"><path d="M70 1.633a70 70 0 00-21.7 136.559h1.692a5.833 5.833 0 006.183-6.184v-1.225-6.358a2.917 2.917 0 00-1.167-1.925 2.917 2.917 0 00-2.45-.583C36.925 125.3 33.6 115.5 33.367 114.858a27.067 27.067 0 00-10.034-12.775 6.767 6.767 0 00-.875-.641 3.675 3.675 0 012.217-.409 8.575 8.575 0 016.708 5.134 17.5 17.5 0 0023.334 6.766 2.917 2.917 0 001.691-2.1 11.667 11.667 0 013.267-7.175 2.917 2.917 0 00-1.575-5.075c-13.825-1.575-27.942-6.416-27.942-30.275a23.333 23.333 0 016.125-16.216A2.917 2.917 0 0036.808 49a20.533 20.533 0 01.059-14 32.317 32.317 0 0114.7 6.708 2.858 2.858 0 002.45.409A61.892 61.892 0 0170 39.958a61.075 61.075 0 0116.042 2.159 2.858 2.858 0 002.391-.409 32.608 32.608 0 0114.7-6.708 20.825 20.825 0 010 13.883 2.917 2.917 0 00.525 3.092 23.333 23.333 0 016.125 16.042c0 23.858-14.175 28.641-28.058 30.216a2.917 2.917 0 00-1.575 5.134 12.833 12.833 0 013.558 10.15v18.55a6.183 6.183 0 002.1 4.841 7 7 0 006.184 1.109A70 70 0 0070 1.633z"/></svg></a>
                
                <a class="p-1 -m-1 text-neutral hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary" href="https://www.linkedin.com/in/marcelbootsman/" rel="noopener" aria-label="marcelbootsman on Linkedin" target="_blank"><svg class="w-3 h-3 overflow-visible fill-current" alt="" aria-hidden="true" viewBox="0 0 140 140"><path d="M23.4 44.59h-4.75a12.76 12.76 0 00-9.73 2.19 9.44 9.44 0 00-2.35 7.12V131a9.08 9.08 0 002.3 7 9.24 9.24 0 006.82 2c2.22 0 4.15-.21 8.24-.06a12 12 0 009.25-2 9.1 9.1 0 002.29-7V53.9a9.44 9.44 0 00-2.34-7.12 12.68 12.68 0 00-9.73-2.19zM21 0A16.19 16.19 0 005.09 15.6 16.52 16.52 0 0021 31.86 16.12 16.12 0 0037 15.6 16.18 16.18 0 0021 0zM99.74 43.63a31.09 31.09 0 00-20.93 6.3A7.25 7.25 0 0077 46.34a6.08 6.08 0 00-4.52-1.78 119.08 119.08 0 00-15 .3c-4.16.84-6.18 3.79-6.18 9V131a9.14 9.14 0 002.28 7 12.06 12.06 0 009.26 2c4.47-.17 5.74.06 8.22.06a9.26 9.26 0 006.83-2 9.12 9.12 0 002.3-7V89.88A12.48 12.48 0 0192.93 76 12.44 12.44 0 01106 89.88V131a9.1 9.1 0 002.29 7 12 12 0 009.24 2c1.83-.07 4-.07 5.8 0a12.09 12.09 0 009.26-2 9.14 9.14 0 002.28-7V78.32a33.07 33.07 0 00-35.13-34.69z"/></svg></a>
                
                <a class="p-1 -m-1 text-neutral hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary" href="mailto:marcel@bootsman.org" rel="noopener" aria-label="marcelbootsman on Email" target="_blank"><svg class="w-3 h-3 overflow-visible fill-current" alt="" aria-hidden="true" viewBox="0 0 512 512"><path d="M256 352c-16.53 0-33.06-5.422-47.16-16.41L0 173.2V400c0 26.5 21.49 48 48 48h416c26.51 0 48-21.49 48-48V173.2L303.2 335.7C289.1 346.6 272.5 352 256 352zM16.29 145.3l212.2 165.1c16.19 12.6 38.87 12.6 55.06 0l212.2-165.1C505.1 137.3 512 125 512 112c0-26.51-21.5-48-48-48H48C21.49 64 0 85.49 0 112c0 13 6.01 25.3 16.29 33.3z"/></svg></a>
                
                <a class="p-1 -m-1 text-neutral hover:text-primary focus:outline-none focus-visible:ring-2 ring-primary" href="/feed" rel="noopener" aria-label="marcelbootsman on Rss" target="_blank"><svg class="w-3 h-3 overflow-visible fill-current" alt="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z"/></svg></a>
                
            </div>
        

    </div>
</footer>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })
</script>


<script src="https://giscus.app/client.js"
        data-repo="mbootsman/marcelbootsman-statamic"
        data-repo-id="R_kgDOJxdbgA"
        data-category="Announcements"
        data-category-id="DIC_kwDOJxdbgM4ComZv"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

<!-- End: /layout/_footer.antlers.html -->

    </body>
</html>
<!-- End: /layout.antlers.html -->
